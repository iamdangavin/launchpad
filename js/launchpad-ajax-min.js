!function($){function handlePopState(e){if(history.ready){if(ignoreLastClick)return void(ignoreLastClick=!1);window.dev&&console.log("Handling popState."),e.preventDefault(),handleLinkClick.call($('<a href="'+location.href+'"></a>').get(0),{preventDefault:function(){},pushState:!1})}else window.dev&&console.log("History is ready for pushState."),history.ready=!0}function handleLinkClick(e){var me=$(this),href=me.attr("href");return 0===href.indexOf("#")?void(ignoreLastClick=!0):void(-1===href.indexOf("wp-admin")&&-1===href.indexOf("wp-login")&&("/"!==href.substr(0,1)&&location.href.split("/")[2]!==href.split("/")[2]||href.match(/\.(jpg|jpeg|gif|png|pdf|doc|docx)$/)||(window.dev&&console.log("Initializing ajax request."),e.preventDefault(),body.trigger("ajaxRequestStart"),$.get(href+(-1===href.indexOf("?")?"?":"&")+"launchpad_ajax=true").done(function(data){var title=data.match(/<title>(.*?)<\/title>/),bodyclass=data.match(/<body.*?class="(.*?)".*?>/),htmlclass=data.match(/<html.*?class="(.*?)".*?>/),content=$($.parseHTML("<div>"+data.replace(/[\s\S]+<body.*?>/,"").replace(/<\/body>[\s\S]+/,"")+"</div>"));content.length?(window.dev&&console.log("Swapping ajax results."),title&&title.length>1&&(document.title=$("<span>"+title[1]+"</span>").text()),htmlclass&&htmlclass.length>1&&(document.documentRoot.className=htmlclass[1]),bodyclass&&bodyclass.length>1&&(document.body.className=bodyclass[1]),window.scrollTo(0,0),body.html(content.html()),gaon&&ga("send","pageview",{page:href,title:document.title}),history.pushState&&e.pushState!==!1&&(window.dev&&console.log("Handling pushState."),history.pushState("","",href))):window.dev&&(console.log("Ajax results were not compatible with theme. Manually redirecting."),location.href=href)}).fail(function(){window.dev&&console.log("Ajax request failed."),location.href=href}).always(function(){window.dev&&console.log("Ajax request complete."),body.trigger("ajaxRequestEnd")}))))}if(void 0===$)return void(window.dev&&window.console&&console.log("jQuery failed to load in time.  Launchpad JavaScript is disabled."));var body=$(document.body),ignoreLastClick=!1,gaon=$("#google-analytics").length>0;body.on("click","a",handleLinkClick),$(window).on("popstate",handlePopState)}(window.jQuery,this);